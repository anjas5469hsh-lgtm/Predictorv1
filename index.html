<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BK Prediction Overlay</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* OVERLAY KECIL */
        #overlay {
            position: fixed;
            top: 55px;
            right: 260px;
            width: 100px;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 10px;
            z-index: 10000;
            color: white;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        
        .overlay-title {
            font-size: 11px;
            font-weight: bold;
            color: #00ff00;
            margin-bottom: 5px;
            text-align: center;
        }
        
        #gameSelect {
            width: 100%;
            padding: 4px;
            margin-bottom: 8px;
            border: 1px solid #444;
            border-radius: 3px;
            background: #2a2a2a;
            color: #00ff00;
            font-size: 10px;
            text-align: center;
            font-family: 'Courier New', monospace;
        }
        
        #angkaInput {
            width: 100%;
            padding: 4px;
            margin-bottom: 5px;
            border: 1px solid #444;
            border-radius: 3px;
            background: #2a2a2a;
            color: #00ff00;
            font-size: 10px;
            text-align: center;
            font-family: 'Courier New', monospace;
        }
        
        #predictBtn {
            width: 100%;
            padding: 4px;
            background: #00ff00;
            color: black;
            border: none;
            border-radius: 3px;
            font-weight: bold;
            cursor: pointer;
            font-size: 10px;
            margin-bottom: 5px;
            font-family: 'Courier New', monospace;
        }
        
        #predictionResult {
            padding: 5px;
            background: rgba(0, 255, 0, 0.1);
            border-radius: 3px;
            text-align: center;
            font-weight: bold;
            color: #00ff00;
            font-size: 11px;
            min-height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(0, 255, 0, 0.3);
        }
        
        .recommendation {
            font-size: 9px;
            text-align: center;
            color: #ccc;
            margin-top: 3px;
        }
    </style>
</head>
<body>

    <!-- Iframe untuk Game -->
    <iframe id="gameFrame" src="https://didihub.com"></iframe>

    <!-- Overlay Kecil -->
    <div id="overlay">
        <div class="overlay-title">BK PREDICTION</div>
        <select id="gameSelect">
            <option value="didihub">Didihub</option>
            <option value="55five">55five</option>
            <option value="62club">62club</option>
        </select>
        <input type="text" 
               id="angkaInput"
               placeholder="7 digits"
               maxlength="7"
               oninput="this.value = this.value.replace(/[^0-9]/g, '')">
        <button id="predictBtn">RUN</button>
        <div id="predictionResult">-</div>
        <div class="recommendation" id="recommendationNumbers">-</div>
    </div>

    <script>
        // DATABASE POLA
        const polaMapping = {
            "BBKBBKB": "B",
            "BBBKKBB": "B", 
            "BKBBBBK": "K",  // INI YANG DIPAKAI (KECIL)
            "KBBBBKB": "K",
            "BBKKBKB": "B",
            "BKBKKBB": "K",
            "KKBBBKK": "K",
            "KBKKBKB": "B",
            "BKKKKBB": "B",
            "KKBBKBK": "B",
            "KBKBBBK": "B",
            "BBKBKBB": "K",
            "BBBBKKK": "K",
            "BBBKBKK": "K",
            "BKBKBKB": "B",
            "KKBKBBB": "K",
            "KKKBBKB": "K",
            "KBKKKKB": "K",
            "BKKKKKK": "K",
            "KKBKKKK": "K",
            "KKKKBKK": "B",
            "KKKKKBB": "K",
            "KKKBKKK": "K",
            "KBKKKKK": "K",
            "BKKKKKK": "B",
            "KKBKKBK": "B",
            "KKKBBBK": "K",
            "KBKBKKB": "B",
            "BBKKKBK": "K",
            "BKBBKKK": "B",
            "KBBKBBK": "B",
            "BKKBBBB": "K",
            "KBBBKKB": "B",
            "BBKKBBK": "B",
            "BKBBKBB": "B",
            "KBBBBBK": "K",
            "BBKBBKB": "B",  // DUPLIKAT TAPI HASIL SAMA (B)
            "BBBKKBB": "B",  // DUPLIKAT TAPI HASIL SAMA (B)
            "KBBBBBB": "B",
            "BBKBBBB": "K",
            "BBBBKKB": "B",
            "BBBKBBK": "K",
            "BKBBBKB": "B",
            "KBBKBBB": "K",
            "BKKBBKB": "K",
            "KKBKKKB": "B",
            "BKBKKKB": "K",
            "KKBKBKK": "B",
            "KKKKBBB": "B",
            "KKKBKBB": "B",
            "KBKBKBK": "K",
            "BBKBKKK": "B",
            "BBBKKBK": "B",
            "BBBKKKB": "B",
            "BKBKBBK": "K",
            "KKBBBKB": "B",
            "KBKKBBB": "B",
            "BKKBKBB": "K",
            "KBBBKKK": "B",
            "KBBBBKK": "K",
            "KKBBBBK": "B",
            "KBKBBBB": "B",
            "BBBBKBK": "K",
            "BBBBBKK": "B",
            "BBBKBBB": "K",
            "KBBKBKB": "K",
            "BKKKBKB": "B",
            "KKBKKBB": "K",
            "KBKKKBB": "B",
            "BKKBKBK": "B",
            "KBBBKBK": "K",
            "BBKBBKK": "B",
            "KKKBBKK": "B",
            "BBBBKBB": "K",
            "BKKKBBB": "K",
            "KKBBKKB": "B",
            "KBKKBBK": "B",
            "BKBBKKB": "K",
            "KBBKBKK": "K",
            "KKKKKKB": "K",
            "KKKKKKK": "B",
            "KKKKKBK": "B",
            "KKKBKBK": "B",
            "BKBKBKK": "B",
            "KKKBBBB": "K",
            "BKBBKBK": "K",
            "KBKBKKK": "B",
            "BKBBBBB": "K",
            "KKKKBKB": "K",
            "KBBKKKB": "B",
            "KKBBKBB": "K",
            "KBKBBKK": "B",
            "BBKKKBB": "K",
            "KBKKBKK": "B",
            "BBKKKKB": "B",
            "BKBKKBK": "B",
            "KBBBKBB": "B",
            "BBKBBBK": "K",
            "KKBKBBK": "B",
            "BBBKBKB": "B",
            "BKBKBBB": "K",
            "BBBBBBK": "K",
            "BBBBBKB": "K",
            "KBKBKBB": "K",
            "BBKKBBB": "K",
            "KKKKBBK": "B",
            "BBBKKKK": "K",
            "KKBKBKB": "B",
            "KBBKKBB": "B",
            "BKKBBBK": "K",
            "BBKKBKK": "B",
            "KBKBBKB": "K",
            "BKBKKKK": "B",
            "BKKKKBK": "K",
            "KKBBKKK": "K",
            "BKKKKKB": "B",
            "BBKKKKK": "B",
            "BBKBKBK": "K",
            "KBKKKBK": "K",
            "BKKBKKK": "K",
            "KBBKKKK": "K",
            "BKKKBKK": "B",
            "KBBKKKK": "B",
            "BKKKBBK": "K",
            "BBKBKKB": "K",
            "BKKBKKB": "K",
            "BKBBBKK": "K",
            "KKKBKKB": "K",
            "BBBBBBB": "B",
            "KBBKKBK": "B"            
        };

        // URL untuk masing-masing game
        const gameUrls = {
            "didihub": "https://didihub.com",
            "55five": "https://www.qumbrot.com/#/register?invitationCode=618741674553",
            "62club": "https://www.62club.work/#/register?invitationCode=74355124211"
        };

        function bacaDenganPolaKhusus(angkaList) {
            // Pola pembacaan khusus:
            // digit ke-4 -> digit ke-3 -> digit ke-5 -> digit ke-2 -> digit ke-6 -> digit ke-1 -> digit ke-7
            const polaPembacaan = [
                angkaList[3], // digit ke-4 (indeks 3)
                angkaList[2], // digit ke-3 (indeks 2)
                angkaList[4], // digit ke-5 (indeks 4)
                angkaList[1], // digit ke-2 (indeks 1)
                angkaList[5], // digit ke-6 (indeks 5)
                angkaList[0], // digit ke-1 (indeks 0)
                angkaList[6]  // digit ke-7 (indeks 6)
            ];
            
            return polaPembacaan;
        }

        function getPrediction(pattern) {
            if (polaMapping[pattern]) {
                return polaMapping[pattern];
            }
            
            const bCount = (pattern.match(/B/g) || []).length;
            const kCount = (pattern.match(/K/g) || []).length;
            
            return bCount > kCount ? "K" : "B";
        }

        function executePrediction() {
            const input = document.getElementById('angkaInput');
            const inputValue = input.value;
            const predictionDiv = document.getElementById('predictionResult');
            const recommendationDiv = document.getElementById('recommendationNumbers');
            
            if (inputValue.length !== 7) {
                predictionDiv.textContent = "7 DIGITS!";
                predictionDiv.style.color = "#ff4444";
                return;
            }
            
            const angkaList = inputValue.split('').map(Number);
            
            // Baca dengan pola khusus
            const polaPembacaan = bacaDenganPolaKhusus(angkaList);
            
            // Konversi ke pola BK
            const bkPattern = polaPembacaan.map(angka => {
                return angka >= 5 ? 'B' : 'K';
            }).join('');
            
            // Prediksi
            const bkPrediction = getPrediction(bkPattern);
            const prediksiText = bkPrediction === 'B' ? 'BESAR' : 'KECIL';
            
            // Rekomendasi angka
            const angkaPoolBK = bkPrediction === 'B' ? [5, 6, 7, 8, 9] : [0, 1, 2, 3, 4];
            const randomAngkaBK = [];
            
            while (randomAngkaBK.length < 2) {
                const randomIndex = Math.floor(Math.random() * angkaPoolBK.length);
                const angka = angkaPoolBK[randomIndex];
                if (!randomAngkaBK.includes(angka)) randomAngkaBK.push(angka);
            }
            
            const rekomendasiBK = randomAngkaBK.join(' ');
            
            // Update UI
            predictionDiv.textContent = prediksiText;
            predictionDiv.style.color = "#00ff00";
            recommendationDiv.textContent = rekomendasiBK;
            
            // Auto clear & focus
            input.value = '';
            input.focus();
            
            // Auto reset setelah 15 detik
            setTimeout(() => {
                predictionDiv.textContent = "-";
                recommendationDiv.textContent = "-";
            }, 15000);
        }

        // Event listeners
        document.getElementById('predictBtn').addEventListener('click', executePrediction);

        document.getElementById('angkaInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                executePrediction();
            }
        });

        // Event listener untuk pilihan game
        document.getElementById('gameSelect').addEventListener('change', function() {
            const selectedGame = this.value;
            document.getElementById('gameFrame').src = gameUrls[selectedGame];
        });

        // Auto focus input
        setTimeout(() => {
            document.getElementById('angkaInput').focus();
        }, 1000);
    </script>
</body>

</html>
